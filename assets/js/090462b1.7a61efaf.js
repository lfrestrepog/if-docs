"use strict";(self.webpackChunkgreen_software_training=self.webpackChunkgreen_software_training||[]).push([[941],{4137:(n,e,t)=>{t.d(e,{Zo:()=>d,kt:()=>m});var a=t(7294);function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function l(n,e){if(null==n)return{};var t,a,r=function(n,e){if(null==n)return{};var t,a,r={},o=Object.keys(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var u=a.createContext({}),c=function(n){var e=a.useContext(u),t=e;return n&&(t="function"==typeof n?n(e):i(i({},e),n)),t},d=function(n){var e=c(n.components);return a.createElement(u.Provider,{value:e},n.children)},s={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},p=a.forwardRef((function(n,e){var t=n.components,r=n.mdxType,o=n.originalType,u=n.parentName,d=l(n,["components","mdxType","originalType","parentName"]),p=c(t),m=r,g=p["".concat(u,".").concat(m)]||p[m]||s[m]||o;return t?a.createElement(g,i(i({ref:e},d),{},{components:t})):a.createElement(g,i({ref:e},d))}));function m(n,e){var t=arguments,r=e&&e.mdxType;if("string"==typeof n||r){var o=t.length,i=new Array(o);i[0]=p;var l={};for(var u in e)hasOwnProperty.call(e,u)&&(l[u]=e[u]);l.originalType=n,l.mdxType="string"==typeof n?n:r,i[1]=l;for(var c=2;c<o;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},3277:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>u,contentTitle:()=>i,default:()=>s,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=t(7462),r=(t(7294),t(4137));const o={sidebar_position:5},i="How to export to CSV",l={unversionedId:"users/how-to-export-to-csv",id:"users/how-to-export-to-csv",title:"How to export to CSV",description:"IF supports exporting data to CSV files. This provides users with a data format that enables visualization and data analysis using standard data analysis tools.",source:"@site/docs/users/how-to-export-to-csv.md",sourceDirName:"users",slug:"/users/how-to-export-to-csv",permalink:"/users/how-to-export-to-csv",draft:!1,editUrl:"https://github.com/Green-Software-Foundation/if-docs/edit/master/docs/users/how-to-export-to-csv.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"How to compare files with `if-diff`",permalink:"/users/how-to-compare-files-with-if-diff"},next:{title:"Developers",permalink:"/developers/"}},u={},c=[{value:"Manifest config",id:"manifest-config",level:2},{value:"CLI command",id:"cli-command",level:2},{value:"Comparing CSV to Yaml",id:"comparing-csv-to-yaml",level:2},{value:"CSV and aggregation",id:"csv-and-aggregation",level:2},{value:"Walkthrough",id:"walkthrough",level:2}],d={toc:c};function s(n){let{components:e,...t}=n;return(0,r.kt)("wrapper",(0,a.Z)({},d,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-to-export-to-csv"},"How to export to CSV"),(0,r.kt)("p",null,"IF supports exporting data to CSV files. This provides users with a data format that enables visualization and data analysis using standard data analysis tools."),(0,r.kt)("h2",{id:"manifest-config"},"Manifest config"),(0,r.kt)("p",null,"To export your data to a CSV file, you have to provide a small piece of config data to your manifest file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"initialize:\n  outputs:\n    - csv\n")),(0,r.kt)("p",null,"You can also add ",(0,r.kt)("inlineCode",{parentName:"p"},"- yaml")," if you want to export to both ",(0,r.kt)("inlineCode",{parentName:"p"},"yaml")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"csv")," simultaneously."),(0,r.kt)("h2",{id:"cli-command"},"CLI command"),(0,r.kt)("p",null,"Then, you must select the metric you want to export to CSV. The name of that metric must be added to the savepath provided to the ",(0,r.kt)("inlineCode",{parentName:"p"},"--output")," command in the CLI, after a hashtag."),(0,r.kt)("p",null,"For example, to export the ",(0,r.kt)("inlineCode",{parentName:"p"},"carbon")," data from your tree to a CSV file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"if-run --manifest example.yml --output example#carbon\n")),(0,r.kt)("p",null,"This will save a CSV file called ",(0,r.kt)("inlineCode",{parentName:"p"},"example.csv"),". The contents will look similar to the following:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Path")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Aggregated")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"2024-03-05T00:00:00.000Z")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"2024-03-05T00:05:00.000Z")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"2024-03-05T00:10:00.000Z"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tree.carbon"),(0,r.kt)("td",{parentName:"tr",align:null},"425.289232008725"),(0,r.kt)("td",{parentName:"tr",align:null},"17.9269877157543"),(0,r.kt)("td",{parentName:"tr",align:null},"8.9024388783018"),(0,r.kt)("td",{parentName:"tr",align:null},"45.6021901509012")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tree.children.westus3.carbon"),(0,r.kt)("td",{parentName:"tr",align:null},"104.696836722878"),(0,r.kt)("td",{parentName:"tr",align:null},"3.59973803197887"),(0,r.kt)("td",{parentName:"tr",align:null},"3.47438149032372"),(0,r.kt)("td",{parentName:"tr",align:null},"6.91318436533634")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tree.children.westus3.children.server-1.carbon"),(0,r.kt)("td",{parentName:"tr",align:null},"104.696836722878"),(0,r.kt)("td",{parentName:"tr",align:null},"3.59973803197887"),(0,r.kt)("td",{parentName:"tr",align:null},"3.47438149032372"),(0,r.kt)("td",{parentName:"tr",align:null},"6.91318436533634")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tree.children.france.carbon"),(0,r.kt)("td",{parentName:"tr",align:null},"320.592395285847"),(0,r.kt)("td",{parentName:"tr",align:null},"14.3272496837754"),(0,r.kt)("td",{parentName:"tr",align:null},"5.42805738797808"),(0,r.kt)("td",{parentName:"tr",align:null},"38.6890057855649")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tree.children.france.children.server-2.carbon"),(0,r.kt)("td",{parentName:"tr",align:null},"320.592395285847"),(0,r.kt)("td",{parentName:"tr",align:null},"14.3272496837754"),(0,r.kt)("td",{parentName:"tr",align:null},"5.42805738797808"),(0,r.kt)("td",{parentName:"tr",align:null},"38.6890057855649")))),(0,r.kt)("h2",{id:"comparing-csv-to-yaml"},"Comparing CSV to Yaml"),(0,r.kt)("p",null,"The CSV above is generated from the following yaml. The ",(0,r.kt)("inlineCode",{parentName:"p"},"carbon")," metric is extracted and added to the CSV. Otherwise,the CSV is an exact representation of the following yaml tree. You can see that the CSV reepresentation is ",(0,r.kt)("em",{parentName:"p"},"much")," easier to understand than the full yaml tree:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"tree:\n  pipeline:\n    - mock-observations\n    - group-by\n    - cloud-metadata\n    - time-sync\n    - watttime\n    - teads-curve\n    - operational-carbon\n  defaults:\n    grid/carbon-intensity: 500\n  config:\n    group-by:\n      group:\n        - cloud/region\n        - name\n  children:\n    westus3:\n      children:\n        server-1:\n          inputs:\n            - timestamp: '2024-03-05T00:00:00.000Z'\n              duration: 300\n              name: server-1\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: westus3\n              cloud/vendor: azure\n              cpu/utilization: 66\n              grid/carbon-intensity: 500\n            - timestamp: '2024-03-05T00:05:00.000Z'\n              duration: 300\n              name: server-1\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: westus3\n              cloud/vendor: azure\n              cpu/utilization: 4\n              grid/carbon-intensity: 500\n            - timestamp: '2024-03-05T00:10:00.000Z'\n              duration: 300\n              name: server-1\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: westus3\n              cloud/vendor: azure\n              cpu/utilization: 54\n              grid/carbon-intensity: 500\n            - timestamp: '2024-03-05T00:15:00.000Z'\n              duration: 300\n              name: server-1\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: westus3\n              cloud/vendor: azure\n              cpu/utilization: 19\n              grid/carbon-intensity: 500\n          outputs:\n            - timestamp: '2024-03-05T00:00:00.000Z'\n              duration: 300\n              name: server-1\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: westus3\n              cloud/vendor: azure\n              cpu/utilization: 65.78\n              grid/carbon-intensity: 369.4947514218548\n              vcpus-allocated: 64\n              vcpus-total: 64\n              memory-available: 432\n              physical-processor: >-\n                Intel\xae Xeon\xae Platinum 8370C,Intel\xae Xeon\xae Platinum 8272CL,Intel\xae\n                Xeon\xae 8171M 2.1 GHz,Intel\xae Xeon\xae E5-2673 v4 2.3 GHz\n              cpu/thermal-design-power: 269.1\n              cloud/region-cfe: CAISO\n              cloud/region-em-zone-id: US-CAL-CISO\n              cloud/region-wt-id: CAISO_NORTH\n              cloud/region-location: US West (N. California)\n              cloud/region-geolocation: 34.0497,-118.1326\n              geolocation: 34.0497,-118.1326\n              cpu/energy: 0.018934842060004835\n              carbon: 6.996324760173567\n            - timestamp: '2024-03-05T00:05:00.000Z'\n              duration: 300\n              name: server-1\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: westus3\n              cloud/vendor: azure\n              cpu/utilization: 3.986666666666667\n              grid/carbon-intensity: 369.38452029076234\n              vcpus-allocated: 64\n              vcpus-total: 64\n              memory-available: 432\n              physical-processor: >-\n                Intel\xae Xeon\xae Platinum 8370C,Intel\xae Xeon\xae Platinum 8272CL,Intel\xae\n                Xeon\xae 8171M 2.1 GHz,Intel\xae Xeon\xae E5-2673 v4 2.3 GHz\n              cpu/thermal-design-power: 269.1\n              cloud/region-cfe: CAISO\n              cloud/region-em-zone-id: US-CAL-CISO\n              cloud/region-wt-id: CAISO_NORTH\n              cloud/region-location: US West (N. California)\n              cloud/region-geolocation: 34.0497,-118.1326\n              geolocation: 34.0497,-118.1326\n              cpu/energy: 0.004545546617763956\n              carbon: 1.6790545568620359\n            - timestamp: '2024-03-05T00:10:00.000Z'\n              duration: 300\n              name: server-1\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: westus3\n              cloud/vendor: azure\n              cpu/utilization: 53.82\n              grid/carbon-intensity: 372.58122309244305\n              vcpus-allocated: 64\n              vcpus-total: 64\n              memory-available: 432\n              physical-processor: >-\n                Intel\xae Xeon\xae Platinum 8370C,Intel\xae Xeon\xae Platinum 8272CL,Intel\xae\n                Xeon\xae 8171M 2.1 GHz,Intel\xae Xeon\xae E5-2673 v4 2.3 GHz\n              cpu/thermal-design-power: 269.1\n              cloud/region-cfe: CAISO\n              cloud/region-em-zone-id: US-CAL-CISO\n              cloud/region-wt-id: CAISO_NORTH\n              cloud/region-location: US West (N. California)\n              cloud/region-geolocation: 34.0497,-118.1326\n              geolocation: 34.0497,-118.1326\n              cpu/energy: 0.017357893372978016\n              carbon: 6.467225143212361\n            - timestamp: '2024-03-05T00:15:00.000Z'\n              duration: 300\n              name: server-1\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: westus3\n              cloud/vendor: azure\n              cpu/utilization: 18.936666666666667\n              grid/carbon-intensity: 434.20042537311633\n              vcpus-allocated: 64\n              vcpus-total: 64\n              memory-available: 432\n              physical-processor: >-\n                Intel\xae Xeon\xae Platinum 8370C,Intel\xae Xeon\xae Platinum 8272CL,Intel\xae\n                Xeon\xae 8171M 2.1 GHz,Intel\xae Xeon\xae E5-2673 v4 2.3 GHz\n              cpu/thermal-design-power: 269.1\n              cloud/region-cfe: CAISO\n              cloud/region-em-zone-id: US-CAL-CISO\n              cloud/region-wt-id: CAISO_NORTH\n              cloud/region-location: US West (N. California)\n              cloud/region-geolocation: 34.0497,-118.1326\n              geolocation: 34.0497,-118.1326\n              cpu/energy: 0.010385485956624245\n              carbon: 4.5093824200727735\n          aggregated:\n            carbon: 19.651986880320734\n      outputs:\n        - carbon: 6.996324760173567\n          timestamp: '2024-03-05T00:00:00.000Z'\n          duration: 300\n        - carbon: 1.6790545568620359\n          timestamp: '2024-03-05T00:05:00.000Z'\n          duration: 300\n        - carbon: 6.467225143212361\n          timestamp: '2024-03-05T00:10:00.000Z'\n          duration: 300\n        - carbon: 4.5093824200727735\n          timestamp: '2024-03-05T00:15:00.000Z'\n          duration: 300\n      aggregated:\n        carbon: 19.651986880320734\n    france:\n      children:\n        server-2:\n          inputs:\n            - timestamp: '2024-03-05T00:00:00.000Z'\n              duration: 300\n              name: server-2\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: france\n              cloud/vendor: azure\n              cpu/utilization: 15\n              grid/carbon-intensity: 500\n            - timestamp: '2024-03-05T00:05:00.000Z'\n              duration: 300\n              name: server-2\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: france\n              cloud/vendor: azure\n              cpu/utilization: 78\n              grid/carbon-intensity: 500\n            - timestamp: '2024-03-05T00:10:00.000Z'\n              duration: 300\n              name: server-2\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: france\n              cloud/vendor: azure\n              cpu/utilization: 16\n              grid/carbon-intensity: 500\n            - timestamp: '2024-03-05T00:15:00.000Z'\n              duration: 300\n              name: server-2\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: france\n              cloud/vendor: azure\n              cpu/utilization: 6\n              grid/carbon-intensity: 500\n          outputs:\n            - timestamp: '2024-03-05T00:00:00.000Z'\n              duration: 300\n              name: server-2\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: france\n              cloud/vendor: azure\n              cpu/utilization: 14.95\n              grid/carbon-intensity: 1719.1647205176753\n              vcpus-allocated: 64\n              vcpus-total: 64\n              memory-available: 432\n              physical-processor: >-\n                Intel\xae Xeon\xae Platinum 8370C,Intel\xae Xeon\xae Platinum 8272CL,Intel\xae\n                Xeon\xae 8171M 2.1 GHz,Intel\xae Xeon\xae E5-2673 v4 2.3 GHz\n              cpu/thermal-design-power: 269.1\n              cloud/region-cfe: France\n              cloud/region-em-zone-id: FR\n              cloud/region-wt-id: FR\n              cloud/region-location: Paris\n              cloud/region-geolocation: 48.8567,2.3522\n              geolocation: 48.8567,2.3522\n              cpu/energy: 0.00905914075141129\n              carbon: 15.574155178030272\n            - timestamp: '2024-03-05T00:05:00.000Z'\n              duration: 300\n              name: server-2\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: france\n              cloud/vendor: azure\n              cpu/utilization: 77.74\n              grid/carbon-intensity: 1719.0544893865829\n              vcpus-allocated: 64\n              vcpus-total: 64\n              memory-available: 432\n              physical-processor: >-\n                Intel\xae Xeon\xae Platinum 8370C,Intel\xae Xeon\xae Platinum 8272CL,Intel\xae\n                Xeon\xae 8171M 2.1 GHz,Intel\xae Xeon\xae E5-2673 v4 2.3 GHz\n              cpu/thermal-design-power: 269.1\n              cloud/region-cfe: France\n              cloud/region-em-zone-id: FR\n              cloud/region-wt-id: FR\n              cloud/region-location: Paris\n              cloud/region-geolocation: 48.8567,2.3522\n              geolocation: 48.8567,2.3522\n              cpu/energy: 0.020379266251888902\n              carbon: 35.0330691407141\n            - timestamp: '2024-03-05T00:10:00.000Z'\n              duration: 300\n              name: server-2\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: france\n              cloud/vendor: azure\n              cpu/utilization: 15.946666666666667\n              grid/carbon-intensity: 1718.8707708347622\n              vcpus-allocated: 64\n              vcpus-total: 64\n              memory-available: 432\n              physical-processor: >-\n                Intel\xae Xeon\xae Platinum 8370C,Intel\xae Xeon\xae Platinum 8272CL,Intel\xae\n                Xeon\xae 8171M 2.1 GHz,Intel\xae Xeon\xae E5-2673 v4 2.3 GHz\n              cpu/thermal-design-power: 269.1\n              cloud/region-cfe: France\n              cloud/region-em-zone-id: FR\n              cloud/region-wt-id: FR\n              cloud/region-location: Paris\n              cloud/region-geolocation: 48.8567,2.3522\n              geolocation: 48.8567,2.3522\n              cpu/energy: 0.009405866514354337\n              carbon: 16.16746902589712\n            - timestamp: '2024-03-05T00:15:00.000Z'\n              duration: 300\n              name: server-2\n              cloud/instance-type: Standard_E64_v3\n              cloud/region: france\n              cloud/vendor: azure\n              cpu/utilization: 5.98\n              grid/carbon-intensity: 1718.6686804277592\n              vcpus-allocated: 64\n              vcpus-total: 64\n              memory-available: 432\n              physical-processor: >-\n                Intel\xae Xeon\xae Platinum 8370C,Intel\xae Xeon\xae Platinum 8272CL,Intel\xae\n                Xeon\xae 8171M 2.1 GHz,Intel\xae Xeon\xae E5-2673 v4 2.3 GHz\n              cpu/thermal-design-power: 269.1\n              cloud/region-cfe: France\n              cloud/region-em-zone-id: FR\n              cloud/region-wt-id: FR\n              cloud/region-location: Paris\n              cloud/region-geolocation: 48.8567,2.3522\n              geolocation: 48.8567,2.3522\n              cpu/energy: 0.0054492484351820105\n              carbon: 9.365452617417297\n          aggregated:\n            carbon: 76.1401459620588\n      outputs:\n        - carbon: 15.574155178030272\n          timestamp: '2024-03-05T00:00:00.000Z'\n          duration: 300\n        - carbon: 35.0330691407141\n          timestamp: '2024-03-05T00:05:00.000Z'\n          duration: 300\n        - carbon: 16.16746902589712\n          timestamp: '2024-03-05T00:10:00.000Z'\n          duration: 300\n        - carbon: 9.365452617417297\n          timestamp: '2024-03-05T00:15:00.000Z'\n          duration: 300\n      aggregated:\n        carbon: 76.1401459620588\n  outputs:\n    - carbon: 22.57047993820384\n      timestamp: '2024-03-05T00:00:00.000Z'\n      duration: 300\n    - carbon: 36.71212369757613\n      timestamp: '2024-03-05T00:05:00.000Z'\n      duration: 300\n    - carbon: 22.63469416910948\n      timestamp: '2024-03-05T00:10:00.000Z'\n      duration: 300\n    - carbon: 13.87483503749007\n      timestamp: '2024-03-05T00:15:00.000Z'\n      duration: 300\n  aggregated:\n    carbon: 95.79213284237952\n")),(0,r.kt)("h2",{id:"csv-and-aggregation"},"CSV and aggregation"),(0,r.kt)("p",null,'The CSV representation of the output data is helpful for intuiting how the aggregation procedure works. What we refer to as "horizontal" aggregation is really an aggregation of the ',(0,r.kt)("em",{parentName:"p"},"rows"),' of the CSV. You can replicate the IF aggregation function by summing the cells in each row of the CSV. Similarly, what we refer to as "vertical" aggregation can be replicatd by summing the ',(0,r.kt)("em",{parentName:"p"},"columns")," in the CSV representation (this is not ",(0,r.kt)("em",{parentName:"p"},"exactly")," accurate because you have to skip summing both parent nodes and their children, both of which are represented in the CSV, but it is true conceptually)."),(0,r.kt)("h2",{id:"walkthrough"},"Walkthrough"),(0,r.kt)("p",null,"You can start with a demo yaml, such as the following (save this as ",(0,r.kt)("inlineCode",{parentName:"p"},"pipeline-demo.yml"),"):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'name: pipeline-demo\ndescription:\ntags:\ninitialize:\n  outputs:\n    - csv\n  plugins:\n    boavizta-cpu:\n      method: BoaviztaCpuOutput\n      path: "@grnsft/if-unofficial-plugins"\n      global-config:\n        allocation: LINEAR\n        verbose: true\n    "sum":\n      path: "builtin"\n      method: Sum\n      global-config:\n        input-parameters:\n          - cpu/energy\n          - network/energy\n        output-parameter: energy\n    "sci-m":\n      path: "@grnsft/if-plugins"\n      method: SciM\n    "sci-o":\n      path: "@grnsft/if-plugins"\n      method: SciO\ntree:\n  children:\n    child-1:\n      pipeline:\n        - boavizta-cpu\n        - sum\n        - sci-m\n        - sci-o\n      config:\n      defaults:\n        cpu/thermal-design-power: 100\n        grid/carbon-intensity: 800\n        device/emissions-embodied: 1533.120 # gCO2eq\n        time-reserved: 3600 # 1hr in seconds\n        device/expected-lifespan: 94608000 # 3 years in seconds\n        resources-reserved: 1\n        resources-total: 8\n        cpu/number-cores: 24\n        cpu/name: Intel\xae Core\u2122 i7-1185G7\n      inputs:\n        - timestamp: "2023-12-12T00:00:00.000Z"\n          cloud/instance-type: A1\n          region: uk-west\n          duration: 1\n          cpu/utilization: 50\n          network/energy: 0.000001\n        - timestamp: "2023-12-12T00:00:01.000Z"\n          duration: 5\n          cpu/utilization: 20\n          cloud/instance-type: A1\n          region: uk-west\n          network/energy: 0.000001\n        - timestamp: "2023-12-12T00:00:06.000Z"\n          duration: 7\n          cpu/utilization: 15\n          cloud/instance-type: A1\n          region: uk-west\n          network/energy: 0.000001\n        - timestamp: "2023-12-12T00:00:13.000Z"\n          duration: 30\n          cloud/instance-type: A1\n          region: uk-west\n          cpu/utilization: 15\n          network/energy: 0.000001\n')),(0,r.kt)("p",null,"Run this using:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"if-run --manifest pipeline-demo.yml --output pipeline-demo#carbon\n")),(0,r.kt)("p",null,"This will save a csv file called ",(0,r.kt)("inlineCode",{parentName:"p"},"pipeline-demo.csv"),". Inside, the data will look as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Path ")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"2023-12-12T00:00:00.000Z")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"2023-12-12T00:00:01.000Z")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"2023-12-12T00:00:06.000Z")),(0,r.kt)("td",{parentName:"tr",align:null},"b")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tree.children.child-1.energy"),(0,r.kt)("td",{parentName:"tr",align:null},"0.00002877777777777778"),(0,r.kt)("td",{parentName:"tr",align:null},"0.00011211111111111111"),(0,r.kt)("td",{parentName:"tr",align:null},"0.0002787777777777778"),(0,r.kt)("td",{parentName:"tr",align:null},"0.0005565555555555556")))))}s.isMDXComponent=!0}}]);